**ALREADY DONE**

- There appears to be a leak of some kind. Every time we build the application I lose some disk space, and I lost a significant amount of disk space since we started building this app that was recovered after a recent reboot.
- Clip Composer is also HOGGING CPU. At idle, with nothing playing back, it is using 77% of my M2 processor (as per Activity Monitor). I guess that explains why my computer has been warm.
- SDK team has finished work on Clip Gain and Transport-Fade issues, so you should be able to complete those jobs from earlier.
- Clip Edit Preview Player Zoom should obey key commands: r = zoom out, t = zoom in –– this is a protools standard and will be well understood to users. These key commands must only be active when Clip Edit is open. They should operate the existing zoom levels that we have built. This should replace our earlier failed attempts at making /- and /= the key commands for waveform zoom.
- Ensure that at 1x zoom, the ENTIRE audio file is visible always.

---

**TO DO**

- Merge tab bar with bottom status/panic bar. Implement a single row grid layout in this bar to organize tabs and panic buttons into two distinct sections: | Tabs (1-8) | 'Stop All', 'Panic' | ––– only give the Panic buttons the horizontal space they need, then devote the rest to tabs. Replace the verbose latency info with a simple status indicator light, following the same colour logic that we have implemented for latency times. Add to this a second simple indicator light that pulses each second –– this wil be a 'heartbeat' to give an ultra compact time of day confidence monitor. Place the two small status indicator lights stacked vertically over top of each other and use them to visually separate the TABS and PANIC sections. Keep vertical spacing between the lights something that matches the PANIC buttons. (not higher or lower than)
- Verbose latency info should absolutely move into the Audio I/O Settings dialogue, it's nice to see.
- Establish continuity of indicator sizing, both in 1) Clip Button corners and 2) in clip state indicator icons. For 1), guarantee three characters of width at all times (eg. hundreds of clips in a session) for a) Top Left Clip Number (white), b) Bottom Left PLAY Icon (green) [this looks fine right now! use PLAY icon as basline dimensions for corner indicators?], 3) Top Right Hotkey (\*\*implement thin outline, same dimensions as other corner indicators –– no background colour for the Hotkey indicator, it will simply be the clip button's text colour used to show the Hotkey and the thin outline around it (if the button is dark, these appear light –– if the button is light, these appear dark), and 4) the Bottom Right Clip Group indicator, which can mostly stay the same with the exception of resized dimensions and corner placement to match the rest.
- Match corner radii (inner and outer) of clip buttons and pulsing "Active" visual indicator border. Corner indicators should also match this corner radius logic.
- Enable rename tabs via doubleclick. We should also implement a rightclick menu for tabs that includes 'Rename Tab' and 'Clear Tab'
- Any 'clear' prompt in the app, (eg. Clear All Clips, Remove Clip, Clear Tab, etc) must be accompanied by a warning prompt prior to anything being cleared. The user must have a chance to cancel.
- [Critical Fix] Edits made in the Clip Edit dialogue must be live (audible, active) while the clip dialog is open, but only comitted upon OK press. CANCEL press must discard any changes made in Clip Edit and restore the clip to exactly how it was prior to Clip Edit being opened.
- Implement application-wide font change from Inter to HK Grotesk, located here: orpheus-sdk/apps/clip-composer/Resources/HKGrotesk_3003 ––– this includes ALL fonts, including JUCE fonts. I don't want to see any of the inherited Reaper aesthetic poking out from the shadows.
- Enforce discrete text elements on Clip Buttons: Two rows. Top row flex height with word wrap for lengthy Clip Names. Bottom row single line fixed height, no wrap, for user comments (Add "Notes" field directly underneath "Clip Name" field in Clip Edit dialog). Keep the bottom row very small tight, condensed, possibly all caps. Make the top row 'Regular' text for clear, legible clip names.
- Clip buttons need better time info, and it should be maybe twice as big as it presently is. Each clip button should have two time fields visible at all times, separated by an emdash and spaces, using the clip button's text colour (light/dark logic). These time fields occupy another row of text, below the user comment row. Time field on left is time elapsed (shows 00:00:00.00 on inactive clip buttons). Time field on right is time remaining (shows 00:03:30.00 for an inactive 3m30s clip). If that clip is played for 15 seconds, these time fields would then show: 00:00:15.00 — 00:03:15.00
- This means there should be an established logic to the grid rows of any clip button. From top to bottom: Row 1 (single line, fixed height) = Clip Number, Beat, Hotkey | Row 2 = (word wrap and flex line height within a fixed row height | Row 3 (single line, fixed height) = user clip notes | Row 3 (single line, fixed height) = "[ Time elapsed ] — [ Time remaining ]" | Row 4 (single line, fixed height) = PLAY Icon, Indicator Icons grid, Group indicator. Remember that clip buttons can be variable sized, flexible according to clip grid dimensions, but a clip button's width will always be greater than its height. (Our text elements need to be able to follow changes to clip button dimensions.)
- When Clip Edit dialogue opens and user presses TAB to go to the Clip Name field, all text should be automatically highlighted for editing.
- When user TABs to Fade IN or Fade OUT fields, these fields must only accept numerical input, automatically formatting the string of numbers into HH:MM:SS.FF on entry. Currently all keyboard characters are accepted, which interferes with Trim < > key commands.
- '?' (Shift+'/') should toggle LOOP in the Clip Edit dialogue. Currently it does not.
- Clip Edit dialogue's Transport Control icons need to be redesigned, they are ugly.
- Add a fourth TAB option to our Clip Edit dialogue tabbable fields: 1. Clip Name > 2. Fade IN Time > 3. Fade OUT Time > 4. NO KEYBOARD FOCUS ––– presently there is no way to make the keyboard inactive again. We should also make ESC work as a text field escape. This means that if a user is in the middle of inputting Fade IN Time and needs to panic, it becomes ONE press of ESC to exit the text input, and then a SECOND press of ESC to exit the Clip Edit dialog. (The ESC command to exit Clip Edit dialogue that is already in our present build stays.) ——— ENTER confirms any of these three text fields, OR confirms Clip Edit dialog when no text field is selected.
- We need to make the clip grid resizable. Clip buttons must always have width>height. Beyond that, we should figure out what kind of grid options are available to us on modern computer displays. For example we need to consider what our clip buttons would look like if they automatically resize to a 5x4 grid vs. what they look like if they automatically resize to a 12x8 grid. I'm just guessing with those numbers –– would those be our upper and lower bounds for clip grid sizes? At any rate, we need clip buttons to resize according to a dynamic clip grid, saved as a session preference.
- Top Left Clip Number indicators need logic to flip to dark if the clip button's assigned colour is near-white. Use an extreme threshold for this.
- We need to implement a clip copy/paste function, including the ability to copy/paste clips around the grid (including pasting clips to empty spaces) and the ability to paste only clip states (eg. Colour, Stop Others, Loop State, Fade times and shapes, etc.) ––- 'Paste Special' can be offered via the clip button rightclick menu.
- Clip Groups should be a session-wide list, editable within any Clip Edit dialogue (all clips can be assigned to any group on the list). Groups can default to 'Group 1', 'Group 2', etc as in the present build, but make these editable. In Clip Edit dialogue it should still appear as a dropdown as it does presently. If it is not possible to make that list directly editable, then we will make a list edit dialogue in session preferences. Clip Group list item backgrounds should be painted in the Clip Group's colour.
- Clip Edit dialogue's Clip Gain slider should become a dropdown, following the same style as our Fade time dropdowns. (Gain: { 0.0 dB }) This can live above the Fade IN section, where 'Gain:' presently is. Be mindful of vertical spacing in the Clip Edit dialogue as you rebuild this.
- To the right of the GAIN dropdown, above Trim OUT, should be 'Beat:' ––– this will be another dropdown to manually set a tag to indicate which beat of the bar the edit comes in on. It should default to blank (unassigned). Available options should be 1, 1+, 2, 2+, 3, 3+, 4, 4+ (Easter Egg: hold Option while dropdown is open to change list to 1, 1++, 2, 2++, 3, 3++, 4, 4++)
- Assigned BEAT value should be displayed on the Clip Button to the right of the Top Left Clip Number corner indicator, in the same colour as the Clip Number corner indicator background (white if clip button is non-white, black @0.95 if clip button is near-white). BEAT value should be styled as " // {value}" in a thin, minimal typeface. Legible, but not dominating.
- Clip Groups (user-editable name fields) should be automatically condensed to <3-character abbreviations, matching the three-character width of clip button corner indicators. Examples: For 'Group 3', 'G3' is the perfect abbreviation. For 'Music', we would want 'MUS'. For 'Soccer', maybe we use 'SOC'. For 'Effects', we would want 'FX'. 'SFX' would be easy... (These are not hard-coded, there must be an abbreviation logic to work with a user's assigned Group labels.)
- Make Clip Edit dialog's OK and CANCEL buttons taller by 50%, and add some bottom margin to the 'COLOUR' 'GROUP' row to give space above the OK CANCEL buttons.
- We need the ability to use any connected audio output (not just System Default). This should include simple output routing via the Orpheus Routing Matrix API.
- We need to keep audio assets somewhere. When an audio clip is loaded, it must be copied to a local directory. That should be an /audio folder within the default session directory. Ensure that session architecture is updated to copy these assets to that directory upon clip import and then look for them there later upon session load.

---

- We need to implement dialogues for application preferences, session preferences. These should be built as a single dialogue with two clearly distinct tabs for accessing Application and Session preferences. Audio I/O should be a tab within this preferences dialogue as well, replacing the Audio I/O list item in the Audio application menu. Our preferences dialogue should respond to Cmd+, to open and ESC to exit. Tab details as follows:

1. Application preferences tab should include:
   • default session directory
   • tab bar placement on screen: top, bottom, left, right
   • (more planned)
2. Session preferences tab should include:
   • clip grid dimensions
   • Clip Group list editor
   • default Fade In / Fade Out times and shapes (applied to new clips on clip load)
   • default clip colour
   • (more planned)
3. Audio I/O preferences tab should include everything currently shown in Audio I/O Settings dialogue.

---

- Change application header bar to read "Clip Composer" (the application will not be called "Orpheus Clip Composer" – Orpheus is the SDK), and add a simple application icon (for runtime testing)
- Add Ctrl+Click as a way to bring up the clip button rightclick menu. Rightclicking is risky in live scenarios. This should not affect existing key command Ctrl+Opt+Cmd+Click to access Clip Edit directly.
- Ensure standard macos key commands are functional. Examples: Cmd+Q to quit, Cmd+S to save, Cmd+Shift+S to save as, Cmd+Shift+F to go fullscreen, Cmd+, to access preferences
- Cmd+Click and Cmd+Shift+Click in Clip Edit waveform display are breaking IN/OUT edit laws. Edit points are behaving aside from this remaining bug with waveform clicks. Playhead (and loop state) will not respect IN/OUT updates set by Cmd+Click or Cmd+Shift+Click, but Playhead (and loop state) respects Trim < > buttons and the Trim key comands. That means that if I'm watching the playhead in the waveform display and I set the OUT point EARLIER than the playhead using Cmd+Shift+Click, the playhead continues as though nothing happened. (Same behaviour for Cmd+Click with IN points). Then, if I press /, or /. keys (controlling corresponding Trim < > buttons), the playhead IMMEDIATELY snaps back to legal IN/OUT bounds. Manual trim commands are being chased perfectly –– waveform clicks are not. While you're at it, ensure that text input to the Trim IN/OUT text fields is also chased by playhead.
- Position of Trim OUT '< >' and 'CLR' buttons need to be horizontally flipped. CLR should appear under SET, as in Trim IN, and '< >' buttons should appear underneath Trim OUT Text Field, as in Trim IN. The idea is that layouts of Trim IN and Trim OUT sections are horizontally mirrored to each other.
- Waveform displays need to load faster when Clip Edit dialogue opens
- Default to Canadian spellings over American spellings –– eg. Colour instead of Color.
- Make clip button indicator icon grid slightly tighter, horizontally. Ensure all icons are vertically centered with PLAY and GROUP bottom corner indicators, with the icon grid row allotted the same height as (bottom) corner indicators.
- 'Playbox' behaviour: thin white outline following last clip launched –– the very outside perimeter of the clip button. Critically, arrow keys (up,down,left,right) will move this playbox around the clip grid. Hold arrow keys to latch and accelerate, using the same latch logic as our Trim < > buttons. Enter becomes a hotkey (PLAY,STOP) for any clip that the playbox is currently on. Unlike the clip buttons' "Active" visual indicator border, the playbox outline persists regardless of whether any audio is playing back. This becomes a highly reliable way for users to shuttle around the glip grid to fire clips without taking their fingers off of the computer keyboard.
- Ensure that /Users/chrislyons/dev/orpheus-sdk/apps/clip-composer/build-launch.sh and /Users/chrislyons/dev/orpheus-sdk/apps/clip-composer/clean-relaunch.sh are up to date and reliable as efficient rebuild and relaunch scripts.
