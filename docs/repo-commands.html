<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orpheus SDK - Command Reference</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #1a1a1a;
            color: #e0e0e0;
            padding: 2rem;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .subtitle {
            color: #888;
            margin-bottom: 2rem;
            font-size: 0.9rem;
        }

        .last-updated {
            color: #666;
            font-size: 0.85rem;
            margin-bottom: 2rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: #242424;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        thead {
            background: #2a2a2a;
        }

        th {
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: #fff;
            border-bottom: 2px solid #333;
        }

        th:nth-child(1) { width: 20%; }
        th:nth-child(2) { width: 35%; }
        th:nth-child(3) { width: 45%; }

        td {
            padding: 1rem;
            border-bottom: 1px solid #2a2a2a;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background: #2a2a2a;
        }

        .command {
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Courier New', monospace;
            background: #1a1a1a;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-size: 0.9rem;
            color: #4fc3f7;
            cursor: pointer;
            display: inline-block;
            transition: background 0.2s;
            position: relative;
        }

        .command:hover {
            background: #222;
        }

        .command:active {
            background: #2a4858;
        }

        .command::after {
            content: 'üìã';
            margin-left: 0.5rem;
            opacity: 0.5;
        }

        .copied {
            animation: flash 0.3s;
        }

        @keyframes flash {
            0%, 100% { background: #1a1a1a; }
            50% { background: #2a5a3a; }
        }

        .description {
            color: #b0b0b0;
            font-size: 0.9rem;
        }

        .job {
            color: #fff;
            font-weight: 500;
        }

        .section-header {
            background: #2a2a2a;
            font-weight: 600;
            color: #fff;
        }

        .section-header td {
            padding: 0.75rem 1rem;
            border-bottom: 2px solid #333;
        }

        footer {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #333;
            color: #666;
            font-size: 0.85rem;
        }

        .warning {
            background: #3a2a1a;
            border-left: 4px solid #ff9800;
            padding: 1rem;
            margin-bottom: 2rem;
            border-radius: 4px;
        }

        .warning-title {
            color: #ff9800;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Orpheus SDK - Command Reference</h1>
        <p class="subtitle">Quick reference for common development tasks</p>
        <p class="last-updated">Last updated: 2025-10-31</p>

        <div class="warning">
            <div class="warning-title">‚ö†Ô∏è Local Use Only</div>
            This page is for local development reference. Click any command to copy it to clipboard.
        </div>

        <table>
            <thead>
                <tr>
                    <th>Job</th>
                    <th>Command</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <!-- Build Commands -->
                <tr class="section-header">
                    <td colspan="3">Build & Compile</td>
                </tr>
                <tr>
                    <td class="job">Configure CMake</td>
                    <td><code class="command">cmake -S . -B build -DCMAKE_BUILD_TYPE=Debug</code></td>
                    <td class="description">Configure CMake build system (Debug mode)</td>
                </tr>
                <tr>
                    <td class="job">Configure CMake (Release)</td>
                    <td><code class="command">cmake -S . -B build -DCMAKE_BUILD_TYPE=Release</code></td>
                    <td class="description">Configure CMake build system (Release mode, optimized)</td>
                </tr>
                <tr>
                    <td class="job">Build SDK</td>
                    <td><code class="command">cmake --build build</code></td>
                    <td class="description">Build all SDK targets</td>
                </tr>
                <tr>
                    <td class="job">Build SDK (parallel)</td>
                    <td><code class="command">cmake --build build -j$(sysctl -n hw.ncpu)</code></td>
                    <td class="description">Build using all CPU cores for faster compilation</td>
                </tr>
                <tr>
                    <td class="job">Build Clip Composer</td>
                    <td><code class="command">cmake --build build --target orpheus_clip_composer_app</code></td>
                    <td class="description">Build only the Clip Composer application</td>
                </tr>
                <tr>
                    <td class="job">Clean build</td>
                    <td><code class="command">rm -rf build && cmake -S . -B build && cmake --build build</code></td>
                    <td class="description">Full clean rebuild (use when build is corrupted)</td>
                </tr>

                <!-- Test Commands -->
                <tr class="section-header">
                    <td colspan="3">Testing</td>
                </tr>
                <tr>
                    <td class="job">Run all tests</td>
                    <td><code class="command">ctest --test-dir build --output-on-failure</code></td>
                    <td class="description">Run all unit and integration tests</td>
                </tr>
                <tr>
                    <td class="job">Run tests (verbose)</td>
                    <td><code class="command">ctest --test-dir build --output-on-failure --verbose</code></td>
                    <td class="description">Run tests with detailed output</td>
                </tr>
                <tr>
                    <td class="job">Run specific test</td>
                    <td><code class="command">ctest --test-dir build -R TestName --output-on-failure</code></td>
                    <td class="description">Run only tests matching TestName pattern</td>
                </tr>

                <!-- Run Commands -->
                <tr class="section-header">
                    <td colspan="3">Run Applications</td>
                </tr>
                <tr>
                    <td class="job">Run Clip Composer</td>
                    <td><code class="command">open build/apps/clip-composer/orpheus_clip_composer_app_artefacts/Debug/OrpheusClipComposer.app</code></td>
                    <td class="description">Launch Clip Composer (macOS Debug build)</td>
                </tr>
                <tr>
                    <td class="job">Run with relaunch script</td>
                    <td><code class="command">./scripts/relaunch-occ.sh</code></td>
                    <td class="description">Kill existing instance and launch fresh (development workflow)</td>
                </tr>

                <!-- Git Commands -->
                <tr class="section-header">
                    <td colspan="3">Git Operations</td>
                </tr>
                <tr>
                    <td class="job">Check status</td>
                    <td><code class="command">git status</code></td>
                    <td class="description">View current branch and changed files</td>
                </tr>
                <tr>
                    <td class="job">View diff</td>
                    <td><code class="command">git diff</code></td>
                    <td class="description">See unstaged changes</td>
                </tr>
                <tr>
                    <td class="job">View recent commits</td>
                    <td><code class="command">git log --oneline -10</code></td>
                    <td class="description">Show last 10 commits</td>
                </tr>
                <tr>
                    <td class="job">Fetch updates</td>
                    <td><code class="command">git fetch origin</code></td>
                    <td class="description">Download latest changes from remote (doesn't merge)</td>
                </tr>
                <tr>
                    <td class="job">Pull latest</td>
                    <td><code class="command">git pull origin main</code></td>
                    <td class="description">Fetch and merge latest changes from main branch</td>
                </tr>

                <!-- Code Quality -->
                <tr class="section-header">
                    <td colspan="3">Code Quality</td>
                </tr>
                <tr>
                    <td class="job">Format all code</td>
                    <td><code class="command">find src apps -name '*.cpp' -o -name '*.h' | xargs clang-format -i</code></td>
                    <td class="description">Auto-format all C++ source files</td>
                </tr>
                <tr>
                    <td class="job">Check formatting</td>
                    <td><code class="command">find src apps -name '*.cpp' -o -name '*.h' | xargs clang-format --dry-run -Werror</code></td>
                    <td class="description">Verify code formatting without modifying files</td>
                </tr>

                <!-- Documentation -->
                <tr class="section-header">
                    <td colspan="3">Documentation</td>
                </tr>
                <tr>
                    <td class="job">Update this page</td>
                    <td><code class="command">./scripts/update-commands-page.sh</code></td>
                    <td class="description">Regenerate this command reference page</td>
                </tr>
                <tr>
                    <td class="job">Find OCC docs</td>
                    <td><code class="command">ls -1 apps/clip-composer/docs/occ/*.md</code></td>
                    <td class="description">List all Clip Composer design documents</td>
                </tr>
                <tr>
                    <td class="job">View progress</td>
                    <td><code class="command">cat apps/clip-composer/PROGRESS.md</code></td>
                    <td class="description">View Clip Composer implementation progress</td>
                </tr>

                <!-- Diagnostics -->
                <tr class="section-header">
                    <td colspan="3">Diagnostics</td>
                </tr>
                <tr>
                    <td class="job">Check CMake version</td>
                    <td><code class="command">cmake --version</code></td>
                    <td class="description">Verify CMake installation</td>
                </tr>
                <tr>
                    <td class="job">Check build tree</td>
                    <td><code class="command">tree build -L 3 -d</code></td>
                    <td class="description">View build directory structure</td>
                </tr>
                <tr>
                    <td class="job">List build targets</td>
                    <td><code class="command">cmake --build build --target help</code></td>
                    <td class="description">Show all available build targets</td>
                </tr>
            </tbody>
        </table>

        <footer>
            <p><strong>Note:</strong> This is a local reference page. Commands are safe to run in your development environment.</p>
            <p>Generated for: <strong>orpheus-sdk</strong> | Location: <code>~/dev/orpheus-sdk</code></p>
        </footer>
    </div>

    <script>
        // Click-to-copy functionality
        document.querySelectorAll('.command').forEach(cmd => {
            cmd.addEventListener('click', async function() {
                const text = this.textContent.replace('üìã', '').trim();
                try {
                    await navigator.clipboard.writeText(text);
                    this.classList.add('copied');
                    setTimeout(() => this.classList.remove('copied'), 300);
                } catch (err) {
                    // Fallback for older browsers
                    const textarea = document.createElement('textarea');
                    textarea.value = text;
                    document.body.appendChild(textarea);
                    textarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textarea);
                    this.classList.add('copied');
                    setTimeout(() => this.classList.remove('copied'), 300);
                }
            });
        });
    </script>
</body>
</html>
